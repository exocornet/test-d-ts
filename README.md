# Проект "Template Next JS 14"

## Команды работы с проектом
- `npm run dev` - запуск проекта локально.
- `npm start`- запуск сбилженой версии проекта. Перед запуском данной команды требуется сбилдить проект (npm run build).
- `npm run build` - билд проекта.
- `npm run clear` - удаление папки .next .
- `npm run env` - создать и обновить файл с переменными .env (переменная ENV_LOC_ARG находится в variables CI/CD GitLab).
- `npm run set-env` - отрпвляет переменные из файла .env в переменную ENV_LOC_ARG.

## Стек технологий
- Node.js (v20.10.0)
- Next.js (v14.2.3)
- React.js (v18.2.0)
- typescript (v5.4.3)
- @bem-react/classname (v1.6.0)
- swiss-knife-scss (1.0.3)

## Стайлкодинг
- eslint
- stylelint
- prettier
- commitizen
- lint-staged

## Архитектура приложения - Feature-Sliced
- **Shared** _(Простые компоненты)_ — многоразовый функционал, оторванный от специфики проекта/бизнеса.
- **Entities** _(Составные компоненты)_ — бизнес-сущности (например, Пользователь, Продукт, Заказ).
- **Features** _(Составные компоненты с бизнес-логикой)_ — взаимодействие с пользователем, действия, которые приносят бизнес-ценность пользователю.
- **Widgets** _(Секции)_ — композиционный слой для объединения объектов и функций в значимые блоки.
- **Pages** _(Страницы)_ — композиционный слой для создания полных страниц из сущностей, функций и виджетов.
- **App** — настройки, стили и провайдеры для всего приложения.

## Архитектура SCSS - ITCSS
- **Settings** _(Настройки)_ — используются с препроцессорами и содержат определения шрифтов, цветов и т. д.
- **Tools** _(Инструменты)_ — глобально используемые миксины и функции. Важно не выводить CSS в первые 2 слоя.
- **Generic** _(Общие)_ — сбросить или нормализовать стили и т. д. Это первый уровень, который генерирует фактический CSS.
- **Elements** _(Элементы)_ — стили для простых HTML-элементов (например, H1, A и т. д.). Они поставляются со стилями по умолчанию из браузера, поэтому мы можем переопределить их здесь.
- **Objects** _(Объекты)_ - селекторы на основе классов, которые определяют недекорированные шаблоны проектирования, например, медиа-объект, известный из OOCSS.
- **Components** _(Компоненты)_ — определенные компоненты пользовательского интерфейса. Здесь проходит большая часть нашей работы. Мы часто составляем компоненты пользовательского интерфейса из объектов и компонентов.
- **Utilities** _(Утилиты)_ — утилиты и вспомогательные классы с возможностью переопределения всего, что идет впереди, например скрыть вспомогательный класс.

## Работа с CI/CD
Для того, чтобы CI/CD работало, необходимо зайти в репозиторий с проектом во вкладку Settings/CI-CD/Variables и вбить SSH_HOST(IP сервера созданный админом) и SSH_KEY(генерируется на сервере и вставляется приватный ключ)

## Работа с ENV переменными
Поскольку приложение может запускаться в разных окружениях (local, dev, prod), глобальные перменные .env должны храниться в GitLab variables вашего репозитория. Далее средствами CI/CD в `gitlab-ci.yml` переменные подстроятся под ветки для каждого своего окружения.
- Личный токен доступа GitLab хранится в `Profile/Edit Profile/Access Tokens/Add new token` (Выбираем все флаги и создаем токен).
- Идентификатор проекта лежит по пути `Project/Settings/General/Project ID`
- После ввода данных высветится команда о создании файла `apiENV.json`. Данный файл служит для хранения ваших введенных данных для последующих обновлений файлов .env в GitLAb.

## Оптимизация SVG картинок
Перед добавлением svg в проект требуется ее оптимизировать через ресурс **https://svgoptimizer.com/ru/**
